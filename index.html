–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–¥ —Å —Ç–µ–º–∏ –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ (–ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ ¬´–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏—è¬ª). –î–æ–±–∞–≤–ª–µ–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `getMoveVal(obj)`, –∫–æ—Ç–æ—Ä—ã–π –±–µ—Ä—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ (`move`, `–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ`, `movement`, `transfer`...), —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ ¬´—Ç—Ä–µ–±—É–µ—Ç—Å—è¬ª –∏ ¬´–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è¬ª.

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–∫–æ–Ω—Å–æ–ª—å** (F12 ‚Üí Console).
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ JSON-–æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á –¥–ª—è ¬´–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ¬ª (—Å–º. `getMoveVal`).
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–º–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∫–∏ `"—Ç—Ä–µ–±—É–µ—Ç—Å—è"` / `"–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è"` (–±–µ–∑ –æ–ø–µ—á–∞—Ç–æ–∫, –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ç.–ø.).
5. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –¥—Ä—É–≥–∞—è –ª–æ–≥–∏–∫–∞ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—è, –ø–æ–ø—Ä–∞–≤—å—Ç–µ –º–∞—Å—Å–∏–≤ `allMoves` –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É.

```html
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leaflet Map ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã</title>

  <!-- Leaflet & MarkerCluster CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

  <style>
    /* ===== base ===== */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: sans-serif;
      font-size: 16px;
    }
    #map {
      width: 100%;
      height: 100%;
      z-index: 0;
    }
    .leaflet-top.leaflet-left {
      margin-top: 70px;
    }

    /* ===== search bar ===== */
    #searchActivator {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 10px;
      z-index: 3000;
    }
    #topSearchBar {
      position: fixed;
      top: -70px;
      left: 0;
      right: 0;
      z-index: 3001;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      transition: top 0.3s;
    }
    #topSearchBar.show {
      top: 0;
    }
    #searchInput {
      flex: 1;
      max-width: 600px;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 15px;
    }
    #searchBtn {
      padding: 5px 8px;
      border: none;
      border-radius: 5px;
      background: #007bff;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
    }

    /* ===== bottom buttons ===== */
    .control-buttons {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 6px;
      z-index: 2000;
    }
    .btn {
      min-width: 110px;
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      border-radius: 8px;
      background: #007bff;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
      text-align: center;
    }
    .btn:hover,
    .btn.active-filter {
      background: #0056b3;
    }
    .btn span {
      display: block;
      font-size: 12px;
      color: #d1e8ff;
      margin-top: 5px;
    }

    /* ===== overlay / bottom panel ===== */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      z-index: 1000;
    }
    .bottom-panel {
      position: fixed;
      bottom: -100%;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 500px;
      background: #fff;
      border-radius: 15px 15px 0 0;
      padding: 20px;
      font-size: 16px;
      box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.3);
      transition: bottom 0.4s ease-in-out;
      z-index: 1500;
    }
    .bottom-panel.active {
      bottom: 10%;
    }
    .panel-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #333;
    }

    /* ===== inside-panel buttons ===== */
    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .filter-buttons button {
      padding: 6px 12px;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      background: #007bff;
      color: #fff;
      cursor: pointer;
      transition: background 0.2s;
    }
    .filter-buttons button:hover {
      background: #0062cc;
    }
    .filter-buttons button.active {
      background: #0056b3;
    }

    /* ===== legend ===== */
    .legend-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .legend-section {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .legend-title {
      font-weight: bold;
      margin-bottom: 5px;
    }
    .legend-row {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .legend-icon {
      width: 20px;
      height: 20px;
      border: 1px solid #000;
      border-radius: 50%;
    }

    /* ===== clusters ===== */
    .cluster-icon {
      font-weight: bold;
      text-align: center;
    }
    .my-div-icon {
      background: none !important;
      border: none !important;
    }

    /* ===== mobile ===== */
    @media (max-width: 600px) {
      #searchInput {
        max-width: 400px;
        font-size: 14px;
      }
      #searchBtn {
        font-size: 12px;
        padding: 4px 6px;
      }
      .btn {
        min-width: 90px;
        padding: 8px 12px;
        font-size: 13px;
      }
      .bottom-panel {
        width: 95%;
        font-size: 14px;
      }
      .panel-title {
        font-size: 18px;
      }
      .filter-buttons button {
        font-size: 13px;
        padding: 5px 10px;
      }
    }
  </style>
</head>
<body>
  <!-- search bar -->
  <div id="searchActivator"></div>
  <div id="topSearchBar">
    <input
      id="searchInput"
      placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –¢–∞–±–ª–æ –∏–ª–∏ –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏"
    />
    <button id="searchBtn">üîç</button>
  </div>

  <!-- map -->
  <div id="map"></div>

  <!-- bottom buttons -->
  <div class="control-buttons">
    <button class="btn" id="legendToggle">–õ–µ–≥–µ–Ω–¥–∞</button>
    <button class="btn" id="statusToggle"
      >–°–æ—Å—Ç–æ—è–Ω–∏–µ <span id="statusLabel">–í—Å–µ (0)</span></button
    >
    <button class="btn" id="reklamaToggle"
      >–†–µ–∫–ª–∞–º–∞ <span id="reklamaLabel">–í—Å–µ (0)</span></button
    >
    <button class="btn" id="planToggle"
      >–ü–ª–∞–Ω <span id="planLabel">–í—Å–µ (0)</span></button
    >
    <button class="btn" id="moveToggle"
      >–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ <span id="moveLabel">–í—Å–µ (0)</span></button
    >
  </div>

  <!-- overlay & panel -->
  <div class="overlay" id="overlay"></div>
  <div class="bottom-panel" id="bottomPanel">
    <div class="panel-title" id="panelTitle"></div>
    <div id="panelContent" class="legend-container"></div>
  </div>

  <!-- libs -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <script>
    /* ------------------------------------------------------------------
       0. UTILS
       ------------------------------------------------------------------*/
